# 英语练习闯关网站 - 系统架构

## 🏗️ 系统架构图

```mermaid
graph TB
    A[前端层<br/>Vue.js 3] --> B[网络层<br/>HTTP + SSE]
    B --> C[后端层<br/>Express.js]
    C --> D[AI服务层<br/>OpenAI API]
    C --> E[数据层<br/>MongoDB]
    C --> F[外部服务<br/>第三方API]
```

## 📋 各层解释

### 🎨 **前端层**
**技术**: Vue.js 3 + TypeScript  
**功能**: 5关闯关界面，实时AI对话，学习进度管理

### 🌐 **网络层**  
**技术**: RESTful API + Server-Sent Events  
**功能**: 数据传输，流式AI对话，Session管理

### ⚙️ **后端层**
**技术**: Node.js + Express.js  
**功能**: 用户认证，章节管理，业务逻辑处理

### 🤖 **AI服务层**
**技术**: OpenAI API集成  
**功能**: 智能出题，对话交互，流式传输

### 💾 **数据层**
**技术**: MongoDB  
**功能**: 用户数据，单词库，学习进度，对话记录

### 🔌 **外部服务**
**技术**: 第三方API  
**功能**: 单词释义，语音合成，邮件服务

## 🔄 **核心流程**

```mermaid
sequenceDiagram
    用户->>前端: 登录学习
    前端->>后端: 获取学习内容
    后端->>数据库: 查询用户进度
    用户->>前端: 进入AI对话
    前端->>后端: 创建对话会话
    后端->>AI服务: 调用AI接口
    AI服务-->>前端: 流式返回对话
    后端->>数据库: 保存学习记录
```

## 🚀 **核心特色**

- **流式AI交互**: 实时对话体验
- **5关递进学习**: 科学学习路径  
- **场景化练习**: 酒店餐厅等真实场景
- **个性化出题**: 基于学习数据的AI出题