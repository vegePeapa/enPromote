# 关卡系统路由结构说明

## 🗺️ 路由设计概览

为了实现纵向滚动关卡地图的同时保持原有关卡功能，我们采用了双层路由结构：

```
/chapters          → 章节选择页面 (ChapterSelection.vue)
    ↓
/adventure         → 纵向滚动关卡地图 (AdventureMap.vue)
    ↓
/adventure-classic → 具体关卡内容 (adventure.vue)
```

## 📋 页面功能说明

### 1. 章节选择页面 (`/chapters`)
- **文件：** `ChapterSelection.vue`
- **功能：** 
  - 显示所有可用章节（酒店、餐厅等）
  - 展示每个章节的学习进度
  - 允许用户切换章节
- **跳转：** 选择章节后跳转到 `/adventure`

### 2. 纵向关卡地图 (`/adventure`)
- **文件：** `AdventureMap.vue`
- **功能：**
  - 纵向滚动的关卡地图界面
  - 显示历史完成的关卡（向上滑动查看）
  - 显示当前章节的所有关卡状态
  - 显示未解锁章节的预览（只显示第一关）
- **跳转：** 点击关卡后跳转到 `/adventure-classic?level=xxx&chapter=xxx`

### 3. 具体关卡内容 (`/adventure-classic`)
- **文件：** `adventure.vue`（原有的完整关卡系统）
- **功能：**
  - 包含所有关卡的具体实现
  - 词汇练习、拼写测试、听力训练等
  - 关卡完成后的统计和奖励
- **参数：**
  - `level`: 关卡类型（word, spell, listen, customs, cover）
  - `chapter`: 当前章节（A, B, C等）

## 🔄 用户流程

```
1. 用户登录
   ↓
2. 进入章节选择页面 (/chapters)
   ↓
3. 选择要学习的章节（如：酒店场景）
   ↓
4. 进入纵向关卡地图 (/adventure)
   - 可以向上滑动查看历史完成的关卡
   - 可以看到当前章节的关卡状态
   - 可以预览下一章节的第一关
   ↓
5. 点击当前可玩的关卡
   ↓
6. 进入具体关卡内容 (/adventure-classic)
   - 进行实际的学习活动
   - 完成关卡获得奖励
   ↓
7. 关卡完成后可以：
   - 返回关卡地图继续下一关
   - 查看学习统计
```

## 🎯 设计优势

### 1. **清晰的信息层次**
- 地图页面：总览和导航
- 关卡页面：专注学习内容

### 2. **保持原有功能**
- 原有的 `adventure.vue` 完全保留
- 所有关卡逻辑和组件不变
- 学习进度和数据完整保存

### 3. **灵活的扩展性**
- 可以轻松添加新的关卡类型
- 可以为不同章节定制不同的关卡内容
- 支持未来的功能扩展

### 4. **良好的用户体验**
- 纵向滚动符合移动端使用习惯
- 历史记录可查看，增强成就感
- 未来内容适度预览，保持学习动机

## 🔧 技术实现要点

### 1. 路由参数传递
```javascript
// 从关卡地图跳转到具体关卡
router.push({
  path: '/adventure-classic',
  query: {
    level: 'word',        // 关卡类型
    chapter: 'A'          // 当前章节
  }
})
```

### 2. 关卡状态管理
```javascript
// 在 adventure.vue 中接收参数
const route = useRoute()
const levelType = route.query.level
const currentChapter = route.query.chapter
```

### 3. 返回导航
```javascript
// 从关卡页面返回地图
const backToMap = () => {
  router.push('/adventure')
}
```

## 📱 响应式设计

所有页面都支持移动端和桌面端：
- 纵向滚动在移动端体验更佳
- 关卡内容在各种屏幕尺寸下都能正常显示
- 触摸和鼠标操作都得到支持

## 🚀 未来扩展

这个路由结构为未来功能扩展提供了良好基础：

1. **多样化关卡地图**
   - 可以为不同章节设计不同风格的地图
   - 支持主题切换和个性化定制

2. **社交功能**
   - 好友进度对比
   - 排行榜和成就系统

3. **高级功能**
   - 关卡重播和回顾
   - 学习路径推荐
   - 个性化难度调整

---

这个设计既保持了原有功能的完整性，又提供了全新的纵向滚动体验，是一个平衡且可扩展的解决方案。